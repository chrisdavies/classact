app.module("appStudents").config(["$routeProvider",function(e){e.when("/students",{templateUrl:"/students/students.html",controller:"StudentsCtrl",resolve:{usernames:["StudentsStore",function(e){return e.loadUsernames()}]}})}]).controller("StudentsCtrl",["$scope","$log","StudentsStore","Students","usernames",function(e,n,t,s,u){e.studentInfo={usernames:u},e.students=[],e.$watch("studentInfo.usernames",function(){return s.query({usernames:e.studentInfo.usernames}).then(function(n){return e.students=n,t.saveUsernames(e.studentInfo.usernames)})},!0),e.removeStudent=function(n){e.studentInfo.usernames=e.studentInfo.usernames.filter(function(e){return e!==n.login})}}]).controller("AddStudentCtrl",["$scope","Students",function(e){e.username="",e.addStudent=function(){e.studentInfo.usernames.some(function(n){return n===e.username})||e.studentInfo.usernames.push(e.username),e.username="",e.$emit("username-added")}}]);